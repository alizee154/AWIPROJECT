<aside class=""fd><form>
  <div>
    <input type="search" id="maRecherche" name="q"
           placeholder="Rechercher une recette">
    <button>Rechercher</button>
  </div>
</form>
<input type="button" value="Download PDF" class="btn btn-danger" (click)="SavePDF()">
<div class="container" id="content" #content>

<header class="centre" >
  <h3 >{{name}}</h3>
  <h4 >{{author}}</h4>
  <h5>{{desc}}</h5>
  <!--<div class="form-group" >

    <select class="form-control" formControlName="nbCouverts">
      <option [ngValue]="null">Nombre de couverts</option>
      <option *ngFor="let i of listNombre"> (click)=" addCouvert()"{{i}}</option>


    </select>
  </div>-->
</header>

<table class="table">
  <thead>
  <tr>
    <th scope="col">Ingrédients</th>
    <th scope="col">Unité</th>
    <th scope="col">Quantité</th>
    <th scope="col">Prix U</th>
    <th scope="col">N°Phase</th>
    <th scope="col">Techniques de réalisation</th>
    <th scope="col">Durée</th>
  </tr>
  </thead>
  <tbody>
  <ng-container *ngFor="let step of Steps; let i=index;">
  <tr *ngFor="  let ing of step.listeIng ;let j =index;  ">



    <td  >{{ing.name}}</td>
    <td>{{ing.unit}}</td>
    <td>{{step.listeQuantity[j]}}</td>
    <td>{{ing.unitprice}}</td>

    <td>{{i+1}}</td>
    <td ><b><u>{{step.titreEtape }} </u></b><br> {{step.descEtape }}</td>
    <td>{{step.duree}}</td>




  </tr>
    </ng-container>
  <!--<tr *ngFor="let titre of listTitresEtapes ; let i=index; " >



      <td ></td>
      <td></td>
      <td></td>
      <td></td>
      <td>{{i+1}}</td>
      <td >{{titre}}</td>
      <td>{{listDureesEtapes[i]}}




  </tr>
  <tr *ngFor=" let ing of Ing ; let i=index " >



    <td >{{ing.name}}</td>
    <td>{{ing.unit}}</td>
    <td></td>
    <td>{{ing.unitprice}}</td>
    <td>{{i+1}}</td>
    <td ></td>
    <td>{{listDureesEtapes[i]}}




  </tr>
-->

  </tbody>
</table>
<h2>Synthèse</h2>
  <h3>Ingrédients utilisés dans cette fiche technique</h3>
  <div *ngFor="let ing of Ing; let i =index;">{{ing.name }} -- cout brut : {{ing.unitprice * listQuantity[i]}} </div>
<p>Coût matière : cout total des ingredients de la fiche + cout assaisonnement ( en euro ou 5% du cout matiere) {{calculCoutMatiere()}} euros</p>
  <p>Coût du personnel : cout horaire moyen + temps pour realiser le plat  {{calculCoutPersonnel()}} euros</p>
  <p>Coût des fluides : calcule a partir d'un coup horaire forfaitaire {{calculCoutFluide()}} euros</p>
<p>Coût de production :  somme cout matiere (et eventuellement cout charges) {{coutFluide + coutPersonnel + coutMatiere}} euros</p>
<p>Coût de production par portion: {{(coutFluide + coutPersonnel + coutMatiere)/nbCouverts}} euros</p>

<p>Coût des charges : cout de personnel + cout des fluides {{coutFluide + coutPersonnel}} euros</p>

<p>Prix de vente : </p>
<p>Prix de vente par portion : </p>
<p>Bénéfice par portion : </p>
<p>Seuil de rentabilité : </p>
</div>
</aside>
